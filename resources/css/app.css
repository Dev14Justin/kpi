@tailwind base;
@tailwind components;
@tailwind utilities;

[x-cloak] { display: none !important; }

@layer base {
    :root {
        --background: 220 15% 97%;
        --foreground: 222.2 84% 4.9%;
        --card: 0 0% 100%;
        --card-foreground: 222.2 84% 4.9%;
        --primary: 158 100% 41%;
        --primary-foreground: 0 0% 11%;
        --accent: 332 100% 65%;
        --accent-foreground: 0 0% 100%;
        --muted: 220 15% 94%;
        --muted-foreground: 215.4 16.3% 46.9%;
        --secondary: 220 15% 94%;
        --secondary-foreground: 222.2 47.4% 11.2%;
        --border: 214.3 31.8% 91.4%;
        --input: 214.3 31.8% 91.4%;
        --ring: 158 100% 41%;
        --title: 222.2 84% 4.9%;
        --subtitle: 215.4 16.3% 46.9%;
        --radius: 1rem;
    }

    .dark {
        --background: 0 0% 7%;
        --foreground: 210 40% 98%;
        --card: 0 0% 11%;
        --card-foreground: 210 40% 98%;
        --primary: 158 100% 41%;
        --primary-foreground: 0 0% 100%;
        --accent: 332 100% 65%;
        --accent-foreground: 0 0% 100%;
        --muted: 0 0% 15%;
        --muted-foreground: 215 20.2% 65.1%;
        --secondary: 0 0% 15%;
        --secondary-foreground: 210 40% 98%;
        --border: 217.2 32.6% 17.5%;
        --input: 217.2 32.6% 17.5%;
        --ring: 158 100% 41%;
        --title: 210 40% 98%;
        --subtitle: 215 20.2% 65.1%;
    }

    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground antialiased font-sans;
    }

    :focus-visible {
        @apply outline-none ring-4 ring-primary/20 border-primary;
    }

    ::selection {
        @apply bg-primary/20 text-foreground;
    }

    input,
    select,
    textarea {
        @apply accent-primary;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply text-title;
    }

    p {
        @apply text-muted-foreground;
    }

    /* View Transitions */
    @view-transition {
        navigation: auto;
    }

    ::view-transition-old(root) {
        animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both fade-out;
    }

    ::view-transition-new(root) {
        animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both fade-in;
    }

    @keyframes fade-in {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fade-out {
        from {
            opacity: 1;
        }

        to {
            opacity: 0;
        }
    }

    /* Livewire Navigation Progress Bar */
    .livewire-progress-bar {
        @apply fixed top-0 left-0 right-0 h-1 z-[100] bg-primary;
        transform-origin: 0%;
        animation: livewire-progress 2s ease-out infinite;
    }

    @keyframes livewire-progress {
        0% {
            transform: scaleX(0);
        }

        50% {
            transform: scaleX(0.7);
        }

        100% {
            transform: scaleX(0.9);
        }
    }
}

@layer components {
    .brand-card {
        @apply bg-card rounded-2xl shadow-card border border-border transition-all;
    }

    .btn-primary {
        @apply inline-flex items-center justify-center gap-2 rounded-xl bg-primary px-6 py-3 text-sm font-bold text-primary-foreground shadow-subtle transition-all hover:opacity-90 active:scale-95 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
    }

    .btn-secondary {
        @apply inline-flex items-center justify-center gap-2 rounded-xl border border-border bg-card px-6 py-3 text-sm font-bold text-foreground shadow-subtle transition-all hover:bg-muted/50 active:scale-95 focus:outline-none focus:ring-2 focus:ring-ring;
    }

    .input-field {
        @apply block w-full rounded-xl border border-input bg-card/50 px-4 py-3 text-sm text-foreground shadow-sm transition-all focus:border-primary focus:ring-2 focus:ring-ring focus:outline-none placeholder:text-muted-foreground;
    }

    /* Force background color on select options for better browser/OS compatibility */
    select option {
        @apply bg-card text-foreground py-2;
    }
}